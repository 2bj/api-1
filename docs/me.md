# Текущий пользователь

* [Получение информации о текущем пользователе](#info)
* [Редактирование информации о текущем пользователе](#edit)


<a name="info" />
## Получение информации о текущем пользователе

`GET /me` вернёт информацию о текущем авторизованном пользователе.
В случае некорректной авторизации сервер вернёт в ответ `403 Forbidden`.

```json
{
    "id": "12345678",
    "last_name": "Фамилия",
    "first_name": "Имя",
    "middle_name": "Отчество",
    "is_admin": false,
    "is_applicant": false,
    "is_employer": true,
    "email": "contact@example.com",
    "employer": {
        "id": "1455",
        "name": "HeadHunter",
        "manager_id": "87654321"
    },
    "counters": {
        "unread_negotiations": 0,
        "new_resume_views": 2
    },
    "is_in_search": true,
    "resumes_url": "https://api.hh.ru/resumes/mine",
    "negotiations_url": "https://api.hh.ru/negotiations"
}
```


 Имя | Тип | Описание
 --- | --- | ---
 id | строка | идентификатор пользователя
 last_name | строка | фамилия
 first_name | строка | имя
 middle_name | строка | отчество
 is_admin | логический | является ли пользователь администратором сайта
 is_applicant | логический | true, если пользователь — соискатель
 is_employer | логический | true, если пользователь работодатель
 email | строка | электронный адрес
 employer | объект, null | информация о компании, если текущий пользователь — работодатель
 personal_manager | объект, null | Информация о персональнои менеджере, если текущий пользователь — работодатель
 is_in_search | логический, null | флаг «ищу / не ищу работу», если текущий пользователь - соискатель
 resumes_url | строка | ссылка на api-сервис списка резюме текущего пользователя
 negotiations_url | строка | ссылка на api-сервис списка откликов/приглашений текущего пользователя
 counters | объект, отсутствует | информация о счетчиках, если текущий пользователь — соискатель


<a name="employer-info"/>
#### Объект `employer`

Имя | Тип | Описание
--- | --- | ------
 id | строка | идентификатор компании
 name | строка | название компании
 manager_id | строка | идентификатор текущего пользователя как менеджера компании


#### Объект `personal_manager`

Имя | Тип | Описание
--- | --- | ---
 id | строка | Идентификатор персонального менеджера
 email | строка | Почтовый адрес персонального менеджера

#### Объект `counters`

Все значения ключей — числа.

Имя | Описание
--- | ---
unread_negotiations | Кол-во новых непрочтенных переписок (у которых `has_updates: true`)
new_resume_views | Общее кол-во новых просмотров всех резюме текущего пользователя


<a name="edit" />
## Редактирование информации о текущем пользователе

Для редактирования фамилии, имени, отчества, либо для изменения флага «ищу / не ищу работу», необходимо отправить запрос POST 
на `/me`. Данные можно редактировать только группами:

### ФИО

 Имя | Тип | Описание
 --- | --- | ---
 last_name | строка | фамилия, поле не может быть пустым
 first_name | строка | имя, поле не может быть пустым
 middle_name | строка | отчество, поле может быть пустым

Все поля группы необходимо обязательно передать в запросе, например:

```
    POST /me
    last_name=Иванов&first_name=Иван&middle_name=
```

Если передать не все поля, то в ответ придёт `400 Bad Request`.


### Флаг «ищу / не ищу работу»
 Имя | Тип | Описание
 --- | --- | ---
 is_in_search | строка | true/false

Пример:

```
 POST /me
 is_in_search=true
```

На запрос с параметрами из разных груп придёт ошибка `400 Bad Request`.
